# 1计算机系统概述

## 1.1 操作系统的基本概念

### 1.1.1 操作系统的概念

常见：MacOS，ipadOS，Windows，Android，iOS，HarmonyOS，Linux

计算机系统自下而上可大致分为4 部分：硬件（裸机）、操作系统、应用程序和用户（这里的划分与计算机组成原理中的分层不同）。

操作系统(Operati ng System, OS) 是指控制和管理整个计算机系统的硬件与软件资源，合理地组织、调度计算机的工作与资源的分配，进而为用户和其他软件提供方便接口与环境的程序集合。

操作系统管理各种计算机硬件，为应用程序提供基础，并充当计算机硬件与用户之间的**中介**。操作系统是计算机系统中最基本的系统软件。最接近硬件的一层软件。

接口：操作系统提供了正确使用这些资源的方法。

### 1.1.2 操作系统的特征

操作系统的基本特征包括并发、共享、虚拟和异步。

1.并发(Concurrence)

指计算机系统中同时存在多个运行的程序。

同一时间间隔（并发）和同一时刻（并行）的区别         

- 单处理机环境vs多处理机
- 宏观vs微观	同时vs交替

2.共享(Sharing)

是指系统中的资源可供内存中多个**并发**执行的进程共同使用。

(1) 互斥共享方式

在一段时间内只允许一个进程访问该资源。

打印机

资源空闲---->分配进程--->等待---->释放资源---->资源空闲

临界资源：在一段时间内只允许一个进程访问的资源称为临界资源。

计算机系统中的大多数物理设备及某些软件中所用的栈、变量和表格，都属于临界资源，它们都要求被互斥地共享。

(2) 同时访问方式

在一段时间内由多个进程“同时”（通常宏观 == 微观 交替）访问



并发和共享是操作系统两个最基本的特征，两者之间互为存在的条件： 

1⃣️资源共享是以程序的并发为条件的，若系统不允许程序并发执行，则自然不存在资源共享问题

2⃣️若系统不能对资源共享实施有效的管理，则必将影响到程序的并发执行，甚至根本无法并发执行

3.虚拟(Virtual)

虚拟是指把一个物理上的实体变为若干**逻辑上**的对应物。 虚vs实

操作系统中利用了多种虚拟技术来实现虚拟处理器、虚拟内存和虚拟外部设备（IO 设备）等。

空分复用技术--虚拟存储器

时分复用技术--虚拟处理器

4.异步(Asynchronism)

进程的异步性 走走停停

### 1.1.3 操作系统的目标和功能

1.操作系统作为计算机系统资源的管理者，有4个功能：

(1) 处理机管理 == 进程的管理（创建，运行，消亡）

主要功能包括进程控制、进程同步、进程通信、死锁处理、处理机调度等。

(2) 存储器管理

主要包括内存分配与回收、地址映射、内存保护与共享和内存扩充等功能。

(3) 文件管理

计算机中的信息都是以文件的形式存在的

文件管理包括文件存储空间的管理、目录管理及文件读写管理和保护等。

(4) 设备管理

设备管理的主要任务是完成用户的I/0 请求，方便用户使用各种设备，并提高设备的利用率（摄像头等）

主要包括缓冲管理、设备分配、设备处理和虚拟设备等功能。



2.操作系统作为用户与计算机硬件系统之间的接口

封装思想：操作系统把一些丑陋的硬件功能封装成简单易用的服务，使用户能更方 便地使用计算机，用户无需关心底层硬件的原理，只需要对操作系统发出命令即可

(1)命令接口（用户）

联机命令接口又称**交互式**命令接口，适用分时或实时系统的接口。

用户通过控制台或终端输入操作命令，向系统提出各种服务要求。

用户每输入一条命令，控制权就转给操作系统的命令解释程序，然后由命令解释程序解释并执行输入的命令，完成指定的功能。之后，控制权转回控制台或终端，此时用户又可输入下一条命令。



脱机命令接口又称批处理命令接口，适用批处理系统，它由一组作业控制命令组成。

清单

(2) 程序接口（写代码用）
程序接口由一组系统调用（也称广义指令）组成。

系统调用类似于函数调用，是应用程序请求操作系统服务的唯一方式。

图形用户界面(GUI)，即图形接口。GUI 最终是通过调用程序接口实现的.



3.操作系统实现了对计算机资源的扩充

整合，组织

操作系统所提供的资源管理功能和方便用户的各种服务功能，将裸机改造成功能更强、使用更方便的机器；

## 1.2 操作系统发展历程

### 1.2.1 手工操作阶段

纸带打孔：有孔1；无孔0

人-->纸带机-->计算机-->纸带机-->人

缺点： 等待手工操作，人机矛盾（资源利用低）；用户独占全机。

### 1.2.2 批处理阶段

多个用户输入

分为单道批处理系统、多道批处理系统（多道程序设计技术出现以后）。

1. 单道批处理系统（操作系统的雏形）

   引入脱机输入/输出技术（用外围机+磁带完成），并由监督程序负责控制作业的输入、输出

   脱机处理：减少了CPU的空闲时间。提高了I/O速度。解决独占设备问题，可以多个用户通过纸带机输入

   人-->纸带机-->外围机-->磁带-->计算机

   主要特征如下：

   1)自动性

   2)顺序性。磁带上的各道作业顺序地进入内存，即先调入内存的作业先完成。

   3)单道性。内存中仅有一道程序运行，即监督程序每次从磁带上只调入一道程序进入内存运行

   为了进一步提高资源的利用率和系统的吞吐量，引入了多道程序技术

2. 多道批处理系统（操作系统正式诞生）

   支持多道程序并发运行，共享系统中的各种硬／软件资源。


   优点：资源利用率高

   缺点：不提供人机交互能力（调试，运行时输入参数）

### 1.2.3 分时操作系统

分时操作系统：计算机以**时间片**为单位轮流为各个用户/作业服务，各个用户可通过终端与计算机进行交互。 

特征：
l) 同时性（多路性），多个终端用户同时使用一台计算机，和多道批处理系统差不多

2）交互性：

3）独立性：并且用户对计算机的操作相互独立，感受不到别人的存在。

4）及时性：用户请求能在很短时间内获得响应。

主要缺点：不能优先处理一些紧急任务。操作系统对各个用户/作业都是完全公平的，循环地为每个用户， 作业服务一个时间片，不区分任务的紧急性。

### 1.2.4 实时操作系统

能在某个时间限制内完成某些紧急任务而不需要时间片排队。

时间限制两种情况：

- 硬实时系统：某个动作必须绝对地在规定的时刻（或规定的时间范围）发生（飞行自动控制系统，导弹控制系统）
- 软实时系统：偶尔违反时间规定且不会引起任何永久性的损害（订票系统）

计算机系统接收到外部信号后及时进行处理，并在严格的时限内处理完接收的事件。

实时操作系统的主要特点是及时性和可靠性。

### 1.2.5 网络操作系统和分布式计算机系统

网络操作系统：实现网络中各种资源的共享（如文件共享）和各台计算机之间的通信。

分布式操作系统：主要特点是分布性和并行性。系统中的各台计算机地位相同，任何工作都可以分布在这些计算机上，由它们并行、协同完成同一任务。

### 1.2.6 个人计算机操作系统

个人计算机操作系统：Windows Linux MacOS

嵌入式操作系统、服务器操作系统、智能手机操作系统等
